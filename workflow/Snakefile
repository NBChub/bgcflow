include: "rules/common.smk"

##### Target rules #####
rule all:
    input:
        "data/processed/tables/df_gtdb_meta.csv",
        "data/processed/tables/df_ncbi_meta.csv",
        "data/processed/tables/df_seqfu_stats.csv",
        expand("data/processed/tables/df_antismash_{version}_summary.csv", version=dependency_version["antismash"]),
        #"data/interim/automlst_wrapper/raxmlpart.txt.treefile",
        expand("data/interim/mlst/{strains}_ST.csv", strains = STRAINS),
        expand("data/interim/eggnog/{strains}/", strains = STRAINS),
        expand("data/interim/refseq_masher/{strains}_masher.csv", strains = STRAINS),
        expand("data/interim/prokka/{strains}/organism_info.txt", strains = STRAINS),
        expand("data/interim/prokka/{strains}/{strains}.gff", strains = STRAINS),
        expand("data/interim/prokka/{strains}/{strains}.faa", strains = STRAINS),
        expand("data/processed/genbank/{strains}.gbk", strains = STRAINS),
        expand("data/interim/antismash/{version}/{strains}/{strains}.gbk", strains = STRAINS, version=dependency_version["antismash"]),
        "data/interim/roary/all",
        expand("data/interim/bigscape/antismash_{version}/index.html", version=dependency_version["antismash"]),

##### Modules #####
include: "rules/ncbi-download.smk"
include: "rules/prokka.smk"
include: "rules/antismash.smk"
include: "rules/roary.smk"
include: "rules/bigscape.smk"
include: "rules/gtdb.smk"
include: "rules/refseq_masher.smk"
include: "rules/patric.smk"
include: "rules/eggnog.smk"
include: "rules/mlst.smk"
include: "rules/automlst_wrapper.smk"
include: "rules/seqfu.smk"
include: "rules/bgc_analytics.smk"