# Directory Structure

This directory contains files and scripts used to refine the Directed Acyclic Graph (DAG) generated by Snakemake for a more visually appealing layout using [yEd Graph Editor](https://www.yworks.com/products/yed/download#download).

The directory structure is as follows:

```
├── build_table.ipynb
├── dag_v0.8.3.graphml
├── dag_v0.8.3_raw.graphml
├── generate_dag_bgcflow.ipynb
├── node_description.csv
├── old_rule_name.txt
├── _pep_example
│   ├── P8-2B-3.1.fna
│   ├── project_config.yaml
│   ├── prokka-db.csv
│   ├── samples.csv
│   └── test_genome.fna
└── README.md
```


## Refine DAG

The `generate_dag_bgcflow.ipynb` notebook is used to process the Snakemake DAG and refine it for use in the yEd layout.

To generate the DAG:
1. Set up the `_pep_example` from `.examples` as the project to generate the DAG in the config folder
2. Run `snakemake --rulegraph > dag.dot` in your terminal.
3. Upload the `dag.dot` file to [yEd Live](https://www.yworks.com/yed-live/).
4. In the layout settings, select the "Left to Right" layout and "Octilinear" style.
5. Open the refined graph with [yEd Graph Editor](https://www.yworks.com/products/yed/download#download).
6. Save the file as `graphml`.
7. Use the `generate_dag_bgcflow.ipynb` notebook to further refine the graph.

## Files

- `build_table.ipynb`: This notebook automatically generates the tools table in the main README.md.
- `dag_v0.8.3.graphml`: The refined DAG in GraphML format.
- `dag_v0.8.3_raw.graphml`: The raw DAG in GraphML format.
- `node_description.csv`: This is the update description of the rule nodes.
- `old_rule_name.txt`: This is the previous manual description of the previous rules
